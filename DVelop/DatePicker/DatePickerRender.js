function WWP_DatePicker_UC(){this.show=function(){defaultWWPDateRangeSettings.minYear=this.MinYear;defaultWWPDateRangeSettings.maxYear=this.MaxYear;defaultWWPDateRangeSettings.style=this.Style;defaultWWPDateRangeSettings.optsLoaded=!0}}function WWPDateTimePicker_updateOption(n,t,i,r){i!=null&&(n[t]=r?moment(i):i,n.settingsBeforeMerge!=null&&(n.settingsBeforeMerge[t]=n[t]))}window.Calendar||(Calendar={});Calendar.setup=function(n){var t="#"+n.inputField,u=n.showsTime,o=n.weekNumbers,w=n.mondayFirst,i=n.ifFormat,s=n.button,h=n.onSelect,b=n.align,c=n.singleClick,l=n.displayRight,a=mapGXDateFormatToDatePickerFormat(i,u),v={DatePicker:{ShowDropdowns:!0,ShowWeekNumbers:o,SingleDatePicker:!0},TimePicker:{Show:u,Hour24:i.indexOf("%p")<0,ShowSeconds:i.indexOf("%S")>0,Increment:1},Locale:{Format:a},Advanced:{AutoApply:c,OpenLocation:l?"right":null}},f=$(t).val(),y=new gx.date.gxdate(f),e=gx.date.isNullDate(y),p,r;e&&$(t).val("");p=new WWP_DateRangePicker(t,v,WWP_DatePicker_UC_on_Changed.closure({field:$(t),vStruct:gx.O.getValidStructFld(n.inputField),onSelect:h}));e&&$(t).val(f);r=function(n){var u=$(t).val(),i=new gx.date.gxdate(u),r=$(t).data("daterangepicker");!i||gx.date.isNullDate(i)?($(n.attachedCtrl).val(""),r.setStartDate(new Date),r.setEndDate(new Date)):(r.setStartDate(i.Value),r.setEndDate(i.Value))};$("#"+s).on("click",function(){r(this);$(t).trigger("click")});$(t).on("focusin",function(){r(this)})};var WWP_DatePicker_UC_on_Changed=function(n){var u,f;this.startDate=n;var t=$(this.field),i=this.vStruct,e=t[0],r=this.onSelect;r&&r(null,n||gx.date.nullDate(),e,i,gx.O);u=t.data("daterangepicker");this.startDate?u.updateElement(!0):i?(f=gx.date.nulldate_toc(i.len,i.dec),t.val(f)):(t.val(""),console.log("WWP_DatePicker_UC: Ctrl on screen not found:"+this.field))}